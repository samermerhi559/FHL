<section class="space-y-6">
  <div class="grid gap-4 lg:grid-cols-3">
    <app-overview-context-card [filters]="state.filters()" />
    <app-overview-headlines-card
      [headlines]="headlinesState().data"
      [loading]="headlinesState().loading"
      [error]="headlinesState().error"
    />
    <app-overview-alerts-card
      [alerts]="alertsPreview"
      [unreadCount]="state.unreadAlerts()"
      (navigate)="navigateToSection($event)"
    />
  </div>

  <div class="grid gap-4 lg:grid-cols-2">
    <app-overview-collection-widget
      [statusLabel]="arStatusLabel"
      [statusDisplay]="arSection()?.status ?? 'healthy'"
      [statusClass]="statusClasses[arSection()?.status ?? 'healthy']"
      [statusReason]="arSection()?.statusReason"
      [kpis]="arSection()?.kpis ?? []"
      [error]="arState().error"
    />
    <app-overview-disbursement-widget
      [statusLabel]="apStatusLabel"
      [statusDisplay]="apSection()?.status ?? 'healthy'"
      [statusClass]="statusClasses[apSection()?.status ?? 'healthy']"
      [statusReason]="apSection()?.statusReason"
      [kpis]="apSection()?.kpis ?? []"
      [error]="apState().error"
    />
  </div>

  <div class="grid gap-4 lg:grid-cols-2">
    <app-overview-projection-card
      [weeks]="cashWeeks()"
      [summary]="cashSummary()"
      [title]="cashTitle()"
      [asOf]="cashAsOf()"
      [currency]="cashCurrency()"
      [loading]="cashState().loading"
      [error]="cashState().error"
    />
    <app-overview-projection-graph
      [weeks]="cashWeeks()"
      [summary]="cashSummary()"
      [title]="cashTitle()"
      [asOf]="cashAsOf()"
      [currency]="cashCurrency()"
      [loading]="cashState().loading"
      [error]="cashState().error"
    />
  </div>

  <div class="grid gap-4 lg:grid-cols-2">
    <app-overview-ai-card
      [aiEnabled]="state.aiEnabled()"
      (toggle)="state.toggleAiInsights()"
    />
    <app-overview-quick-links-card (navigate)="navigateToSection($event)" />
  </div>

  <app-overview-sections-grid
    [sections]="nonWidgetSections()"
    [statusClasses]="statusClasses"
    (navigate)="navigateToSection($event)"
  />
</section>
